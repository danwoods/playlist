var resourceful = require('../lib/resourceful');
resourceful.use('memory');

var Author = resourceful.define('author');

Author.before('create', function(options, callback){
  if(options.id === "Marak") {
    console.log('we found marak!')
    callback(null);
  } else {
    callback(new Error(options.id + ' is not Marak'));
  }
})

Author.create({
  id: 'Marak'
}, function(err, marak){
  console.log(marak);
});

Author.create({
  id: 'Bob'
}, function(err, bob){
  console.log(err);
});
